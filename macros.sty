% Formatting
\newcommand{\code}[1]{\texttt{#1}}
\newcommand{\itl}[1]{{\it#1}}
\newcommand{\cmark}{\ding{51}}
\newcommand{\xmark}{\ding{55}}

% General maths
\newcommand{\defeq}[0]{\stackrel{\textnormal{def}}=}
\newcommand{\finmap}[0]{\xrightharpoonup{\mathit{fin}}}
\newcommand{\pset}[0]{{\cal P}}
\newcommand{\idx}[1]{\ensuremath{{}^{#1}}}
\newcommand{\nats}[0]{\ensuremath{\mathbb N}}
\newcommand{\rarr}[0]{\ensuremath{\rightarrow}}
\newcommand{\Rarr}[0]{\ensuremath{\Rightarrow}}
\newcommand{\dom}[0]{\operatorname{dom}}
\newcommand{\codom}[0]{\operatorname{codom}}
\newcommand{\preo}[0]{\preccurlyeq}
\renewcommand{\part}[0]{\rightharpoonup}
\newcommand{\fn}[1]{\operatorname{\mathit{#1}}}

% Useful in maths 
\newcommand{\If}[0]{\text{if}}
\newcommand{\Otherwise}[0]{\text{otherwise}}

% Semantics
\newcommand{\execac}[0]{\code{execute\_action}}
\newcommand{\consume}[0]{\code{consume}}
\newcommand{\produce}[0]{\code{produce}}
\newcommand{\fix}[0]{\code{fix}}
\newcommand{\actions}[0]{{\ensuremath{\cal{A}}}}
\newcommand{\preds}[0]{\ensuremath{\Delta}}
\newcommand{\modelsp}[0]{\models_\preds}

\newcommand{\sym}[1]{\hat{#1}}

\newcommand{\mmdl}[0]{\ensuremath{\mathbb S}}
\newcommand{\st}[0]{\sigma}
\newcommand{\sst}[0]{\sym\st}
\newcommand{\St}[0]{\Sigma}
\newcommand{\Sst}[0]{\sym\St}

\newcommand{\evalsto}[3]{\ensuremath{p\vdash(#1)\Downarrow_\theta#2:(#3)}}
\newcommand{\execOLD}[5]{#1.#2(#3) \rightsquigarrow #4:(#5)}
\newcommand{\ppexec}[3]{\ensuremath{#1(#2)\rightsquigarrow(#3)}}
\newcommand{\ppexecc}[3]{\ensuremath{#1(#2)=(#3)}}
\newcommand{\ppcons}[2]{\ensuremath{\consume(#1)\rightsquigarrow (#2)}}
\newcommand{\ppprod}[2]{\ensuremath{\produce(#1)\rightsquigarrow (#2)}}
\newcommand{\corepred}[3]{\ensuremath{\left<#1\right>\!(#2;#3)}}

\newcommand{\ins}[0]{\vec{v}_i}
\newcommand{\sins}[0]{\vec{\sym{v}}_i}
\newcommand{\outs}[0]{\vec{v}_o}
\newcommand{\souts}[0]{\vec{\sym{v}}_o}

\newcommand{\pc}[0]{\pi}
\newcommand{\Pc}[0]{\Pi}
\newcommand{\SAT}[0]{\operatorname{\code{SAT}}}
\newcommand{\OX}[0]{\code{OX}}
\newcommand{\UX}[0]{\code{UX}}
\newcommand{\SV}[0]{\textit{SV}}

\newcommand{\expeval}[2][\theta,s]{\llbracket#2\rrbracket_{#1}}

\newcommand{\outcomes}[0]{{\cal O}}
\newcommand{\Ok}[0]{\code{Ok}}
\newcommand{\Miss}[0]{\code{Miss}}
\newcommand{\Err}[0]{\code{Err}}
\newcommand{\LFail}[0]{\code{LFail}}

\newcommand{\type}[1]{\text{#1}}
\newcommand{\Nat}[0]{\type{Nat}}
\newcommand{\Val}[0]{\type{Val}}
\newcommand{\LVal}[0]{\type{LVal}}
\newcommand{\Loc}[0]{\type{Loc}}
\newcommand{\ALoc}[0]{\type{ALoc}}

\newcommand{\Str}[0]{\type{Str}}
\newcommand{\strv}[1]{\code{`#1'}}

\newcommand{\bools}[0]{\mathbb{B}}
\newcommand{\vtrue}[0]{\texttt{true}}
\newcommand{\vfalse}[0]{\texttt{false}}

\newcommand{\Wf}[0]{\ensuremath{{\cal W}\!f}}
\newcommand{\Wfc}[0]{\ensuremath{{\cal W}\!f\!c}}

% Sep logic
\newcommand{\SLtriple}[3]{\ensuremath{\left\{#1\right\}#2\left\{#3\right\}}}
\newcommand{\ISLtriple}[3]{\ensuremath{\left[#1\right]#2\left[#3\right]}}
\newcommand{\ESLtriple}[3]{\ensuremath{\left<\mkern-5mu\left<#1\right>\mkern-5mu\right>#2\left<\mkern-5mu\left<#3\right>\mkern-5mu\right>}}

\newcommand{\emp}[0]{\textit{emp}}
\newcommand{\wand}{\mathrel{-\!\!\ast}}
\newcommand{\mapstoq}[1]{\xmapsto[{\raisebox{1.25ex-\heightof{$\scriptstyle#1$}}[0pt]{$\scriptstyle#1$}}]{}}
\newcommand{\disj}[0]{\operatorname{\#}}

\newcommand{\full}[1]{\underline{#1}}

% Iris
\newcommand{\irisval}[0]{\ensuremath{\overline{\cal V}}}


% State model
\newcommand{\statemodel}[1]{\textsc{#1}}
\newcommand{\statevar}[1]{\text{#1}}
\newcommand{\statepred}[1]{\code{#1}}

\newcommand{\Ex}[0]{\statemodel{Ex}}
\newcommand{\ex}[1]{\statevar{ex}(#1)}
\newcommand{\exP}[0]{\statepred{ex}}
\newcommand{\load}[0]{\code{load}}
\newcommand{\store}[0]{\code{store}}

\newcommand{\Ag}[0]{\statemodel{Ag}}
\newcommand{\ag}[1]{\statevar{ag}(#1)}
\newcommand{\agP}[0]{\statepred{ag}}

\newcommand{\Frac}[0]{\statemodel{Frac}}
\newcommand{\fracc}[1]{\statevar{frac}(#1)}
\newcommand{\fracP}[0]{\statepred{frac}}

\newcommand{\Sum}[0]{\statemodel{Sum}}
\newcommand{\Product}[0]{\statemodel{Product}}
\newcommand{\PProduct}[0]{\statemodel{PProduct}}

\newcommand{\PMap}[0]{\statemodel{PMap}}
\newcommand{\DynPMap}[0]{\statemodel{DynPMap}}
\newcommand{\domainset}[0]{\statepred{domainset}}
\newcommand{\alloc}[0]{\code{alloc}}
\newcommand{\ppget}[2]{\ensuremath{\code{get}(#1)\rightsquigarrow(#2)}}
\newcommand{\ppset}[2]{\ensuremath{\code{set}(#1)=#2}}
\newcommand{\ppgetc}[2]{\ensuremath{\code{get}(#1)=#2}}

\newcommand{\List}[0]{\statemodel{List}}
\newcommand{\bound}[0]{\statepred{bound}}

\newcommand{\Freeable}[0]{\statemodel{Freeable}}
\newcommand{\free}[0]{\code{free}}
\newcommand{\freed}[0]{\statevar{freed}}
\newcommand{\freedP}[0]{\code{freed}}

\newcommand{\GMap}[0]{\statemodel{GMap}}
\newcommand{\SplitPMap}[0]{\ensuremath{\statemodel{PMap}_{\statemodel{Split}}}}
\newcommand{\ALocPMap}[0]{\ensuremath{\statemodel{PMap}_{\statemodel{ALoc}}}}
\newcommand{\SplitDynPMap}[0]{\ensuremath{\statemodel{DynPMap}_{\statemodel{Split}}}}
\newcommand{\ALocDynPMap}[0]{\ensuremath{\statemodel{DynPMap}_{\statemodel{ALoc}}}}
\newcommand{\aloc}[1]{\text{aloc}(#1)}

\newcommand{\BlockTree}[0]{\statemodel{BlockTree}}
\newcommand{\CGEnv}[0]{\statemodel{CGEnv}}

% Util
\renewcommand\tabularxcolumn[1]{m{#1}}% for vertical centering text in X column
\newcommand{\todobox}[1]{
\vspace{0.25cm}\color{red}
\noindent\fbox{
	\parbox{\textwidth}{
	\textbf{TODO: }
	\color{black}#1}
}\vspace{0.25cm}\color{black}}
\newcommand{\note}[1]{{\emph{\color{purple}{#1}}}}
\newcommand{\muted}[1]{{\color{gray}{#1}}}
\newcommand{\hl}[1]{{\color{blue}{#1}}} % highlight
\newenvironment{breakalign*}[1][]{\begingroup\allowdisplaybreaks\notag\align}{\endalign\endgroup}
